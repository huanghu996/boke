---
layout: post
title: 哈夫曼树
categories: CPPNotes
description: 
keywords: Cpp
---
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(1).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(2).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(3).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(4).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(5).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(6).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(7).PNG)
```
#include<iostream>
using namespace std;
struct node{
	int data;
	int l,r;
	int f;
	int len;
}a[1000];
int q[10000];
int root;
void b(int n)
{
	for(int i=1;i<=n-1;i++)
	{
		int p1,p2;
		int min1=10000000;
        int min2=10000000;
		for(int j=1;j<=n+i-1;j++)
		{
			
			if(min1>a[j].data&&a[j].f==0)
			{
				min2=min1;
				p2=p1;
				min1=a[j].data;
				p1=j;
			}
			else{
				if(min2>a[j].data&&a[j].f==0)
				{
					min2=a[j].data;
					p2=j;
				}
			}
		}
		a[n+i].data=a[p1].data+a[p2].data;
		a[n+i].l=p1;
		a[n+i].r=p2;
		a[p1].f=n+i;
		a[p2].f=n+i;
	    if(n+i==2*n-1)
	    {
	    	root=n+i;
		}
	}
	//cout<<"hh";
}
void zx(int x)
{
	if(x)
	{
		if(a[x].l!=0)zx(a[x].l);
		cout<<a[x].data<<" ";
		if(a[x].r!=0)zx(a[x].r);
	}
	//cout<<"gg";
}
int main(){
	freopen("huffman.in","r",stdin);
	freopen("huffman.out","w",stdout);
    int n;
	cin>>n;
	for(int i=1;i<=n;i++)
	{
		cin>>a[i].data;
		}	
	b(n);
//	for(int i=1;i<=2*n-1;i++)
//	{
///		cout<<i<<"|"<<a[i].data<<" ";
//	}
	//cout<<root;
	zx(root);
	cout<<endl;
	for(int i=2*n-2;i>=1;i--)
	{
		a[i].len=a[a[i].f].len+1;
	}
	int sum=0;
	for(int i=1;i<=2*n-1;i++)
	{
		if(a[i].l==0&&a[i].r==0)
		{
			cout<<a[i].len<<" ";
			sum=sum+a[i].data*a[i].len;
		}
	}
	cout<<endl;
	cout<<sum;
}
```
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(8).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(9).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(10).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(11).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(12).PNG)
![image](http://hboke.nos-eastchina1.126.net/%E5%93%88%E5%A4%AB%E6%9B%BC%E6%A0%91%E4%B8%8E%E5%AD%97%E5%85%B8%E6%A0%91%20(13).PNG)
